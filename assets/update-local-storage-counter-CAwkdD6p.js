(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const a of t.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function s(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function o(e){if(e.ep)return;e.ep=!0;const t=s(e);fetch(e.href,t)}})();function I(){const n=document.querySelectorAll(".js-dropdown-title-box"),r=document.querySelectorAll(".js-list-dropdown"),s=document.querySelector(".js-search-category-title-box"),o=document.querySelector(".js-search-category-list");let e=null;[...n].forEach(i=>{i.addEventListener("click",t)});function t(i){let l=i.target.closest(".js-dropdown-title-box");e=l.firstElementChild,l.nextElementSibling.classList.contains("header__list-dropdown_active")?l.nextElementSibling.classList.remove("header__list-dropdown_active"):([...n].forEach(g=>{g.nextElementSibling.classList.remove("header__list-dropdown_active")}),l.nextElementSibling.classList.add("header__list-dropdown_active")),a(i,e)}[...r].forEach(i=>{i.addEventListener("click",l=>a(l,e))});function a(i,l){i.target.tagName==="LI"&&(l.textContent=i.target.textContent,[...n].forEach(g=>{g.nextElementSibling.classList.remove("header__list-dropdown_active")}))}s.addEventListener("click",u);function u(i){o.classList.toggle("search-category__list_active"),s.firstElementChild.classList.toggle("search-category__arrow-icon_active")}o.addEventListener("click",m);function m(i){i.target.tagName==="LI"&&(s.lastElementChild.textContent=i.target.textContent,u())}}function O(){const n=document.querySelector(".js-mob-menu"),r=document.querySelector(".js-burger-btn"),s=document.querySelector(".js-mob-menu-btn-close"),o=document.querySelector(".js-backdrop"),e=document.querySelector(".js-choose-city"),t=document.querySelector(".js-city-selection-list"),a=document.querySelector(".js-active-city"),u=document.querySelector(".js-information-item"),m=document.querySelector(".js-information-sub-list"),i=document.querySelector(".js-categories-item"),l=document.querySelector(".js-menu-categories-btn-close"),g=document.querySelector(".js-menu-categories"),h=document.querySelectorAll(".js-categories-list-title-box"),b=document.querySelector(".js-menu-categories-list"),p=document.querySelectorAll(".js-categories-sub-list");r.addEventListener("click",v),s.addEventListener("click",v),o.addEventListener("click",S);function v(c){n.classList.toggle("mob-menu--visible"),o.classList.toggle("backdrop--visible"),document.body.classList.toggle("to-freeze")}function S(c){v(),g.classList.remove("menu-categories--visible")}i.addEventListener("click",L),l.addEventListener("click",L);function L(c){g.classList.toggle("menu-categories--visible")}e.addEventListener("click",_);function _(c){if(!e.classList.contains("user-panel__city-selection-title_active")){t.style.maxHeight=t.scrollHeight+"px",e.classList.add("user-panel__city-selection-title_active");return}t.style.maxHeight=0,e.classList.remove("user-panel__city-selection-title_active")}t.addEventListener("click",E);function E(c){a.textContent=c.target.textContent,_()}u.addEventListener("click",x);function x(c){if(!u.classList.contains("nav-list-item__title-wrapper_active")){m.style.maxHeight=m.scrollHeight+"px",u.classList.add("nav-list-item__title-wrapper_active");return}m.style.maxHeight=0,u.classList.remove("nav-list-item__title-wrapper_active")}b.addEventListener("click",C);function C(c){const{target:f}=c;let d=f.closest(".js-categories-list-title-box");if(d){if(!d.classList.contains("menu-categories__list-title-box_active")){[...h].forEach(y=>{y.nextElementSibling.style.maxHeight=0,y.classList.remove("menu-categories__list-title-box_active")}),d.nextElementSibling.style.maxHeight=d.nextElementSibling.scrollHeight+"px",d.classList.add("menu-categories__list-title-box_active");return}d.nextElementSibling.style.maxHeight=0,d.classList.remove("menu-categories__list-title-box_active")}}p.forEach(c=>{c.addEventListener("click",q)});function q(c){const{target:f}=c;f.tagName==="LI"&&f.classList.toggle("menu-categories__sub-list-item_active")}}function H(){class n{constructor(){this.tabs=document.querySelectorAll(".accordion"),this.addActive()}addActive(){this.tabs.forEach(s=>{s.addEventListener("click",o=>{o.target.classList.contains("accordion__title")&&(s.classList.toggle("accordion_active"),this.removeActive(o))})})}removeActive(s){this.tabs.forEach(o=>{o.contains(s.target)||o.classList.remove("accordion_active")})}}new n}const j="basket",w="favorite",A=document.querySelectorAll(".js-favorite-amount"),k=document.querySelectorAll(".js-basket-amount");function M(){function n(r,s){const o=JSON.parse(localStorage.getItem(r))?JSON.parse(localStorage.getItem(r)).length:0;[...s].forEach(e=>{e.textContent=o})}n(w,A),n(j,k)}export{j as K,w as a,H as c,I as h,O as m,M as u};
//# sourceMappingURL=update-local-storage-counter-CAwkdD6p.js.map
